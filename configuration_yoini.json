{
    "drop_old_db": true,
    "db": {
        "host": "localhost",
        "name": "test",
        "user": "root",
        "password": "bernie"
    },
    "web": {
        "dir_root": "api",
        "url_root": "/",
        "assets": "assets"
    },
    "salt": [2, 3, 4, 7, 9, 10, 13, 19, 20],
    "architecture": {
        "use_for_permission": "role",
        "use_for_auth": "user",
        "use_soft_delete": true,
        "models": {
            "role": {
                "name_plural": "roles",
                "permissions": {
                    "create": "none",
                    "read": "self",
                    "update": "none",
                    "delete": "none"
                },
                "properties": {
                    "permissions": {
                        "read": "self",
                        "update": "none"
                    },
                    "list": {
                        "type": {
                            "type": "string",
                            "max_length": 255
                        }
                    }
                },
                "relations": {
                    "users": {
                        "model": "user",
                        "type": "belongs_to_and_has_many",
                        "via_table": "users_roles",
                        "permissions": {
                            "create": "admin",
                            "read": ["self", "admin"],
                            "delete": "admin"
                        }
                    }
                },
                "instances": [
                    {
                        "type": "user"
                    }
                ]
            },
            "user": {
                "name_plural": "users",
                "permissions": {
                        "create": "all",
                        "read": ["self", "user"],
                        "update": "self",
                        "delete": "self"
                },
                "properties": {
                    "permissions": {
                        "read": "self",
                        "update": "self"
                    },
                    "list": {
                        "email": {
                            "type": "string",
                            "max_length": 255,
                            "use_as_id": true,
                            "validation": "[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"
                        },
                        "password": {
                            "type": "hash",
                            "use_as_password": true,
                            "permissions": {
                                "read": "none"
                            }
                        },
                        "name": {
                            "type": "string",
                            "max_length": 255,
                            "null_allowed": true,
                            "permissions": "all"
                        },
                        "image_set": {
                            "type": "bool",
                            "default": false,
                            "permissions": {
                                "read": "all"
                            }
                        },
                        "position": {
                            "type": "geo",
                            "null_allowed": true
                        },
                        "timezone": {
                            "type": "string",
                            "max_length": "100",
                            "default": "Europe/London",
                            "permissions": {
                                "read"
                            }
                        },
                        "member_since": {
                            "type": "datetime",
                            "default": "now",
                            "permissions": {
                                "read": "self",
                                "update": "none"
                            }
                        }
                    }
                },
                "relations": {
                    "roles": {
                        "model": "role",
                        "type": "belongs_to_and_has_many",
                        "via_table": "users_roles",
                        "permissions": {
                            "create": "user",
                            "read": "self",
                            "delete": "self"
                        }
                    },
                    "aors": {
                        "model": "aor",
                        "type": "has_many",
                        "permissions": {
                            "ceate": "self",
                            "read": "self",
                            "delete": "self"
                        }
                    },
                    "contacts": {
                        "model": "contact"    
                    },
                    "contexts": {},
                    "projects": {},
                    "actions": {},
                    "references": {},
                    "reference_lists": {}
                }
            },
            "aor": {
                "name_plural": "aors",
                "permissions": {
                    "create": ,
                    "read": ,
                    "update": ,
                    "delete": 
                },
                "properties": {
                    "permissions": {
                        "read": ,
                        "update": 
                    },
                    "list": {
                        "name": {
                            "type": "string",
                            "max_length": 255,
                            "default": "tag_name"
                        }
                    }
                },
                "relations": {
                    "questions": {
                        "model": "question",
                        "type": "belongs_to_and_has_many",
                        "via_table": "questions_tags",
                        "permissions": {
                            "create": ["user", "admin"],
                            "read": "all",
                            "delete": "admin"
                        }
                    },
                }
            },
            "contact": {},
            "context": {
                "name_plural": "questions",
                "permissions": {
                    "create": ["user", "admin"],
                    "read": ["user", "admin"],
                    "update": ["user", "admin"],
                    "delete": ["self", "admin"]
                },
                "properties": {
                    "permissions": {
                        "read": "all",
                        "update": ["user", "admin"]
                    },
                    "list": {
                        "title": {
                            "type": "string",
                            "max_length": 255
                        },
                        "text": {
                            "type": "string"
                        },
                        "upvotes": {
                            "type": "int"
                        },
                        "created": {
                            "type": "datetime",
                            "default": "now",
                            "permissions": {
                                "update": "none"
                            }
                        },
                        "edited": {
                            "type": "datetime",
                            "default": "now",
                            "null_allowed": true
                        }
                    }
                },
                "relations": {
                    "user": {
                        "model": "user",
                        "type": "belongs_to",
                        "permissions": {
                            "create": ["user", "admin"],
                            "read": "all",
                            "delete": ["self", "admin"]
                        }
                    },
                    "tags": {
                        "model": "tag",
                        "type": "belongs_to_and_has_many",
                        "via_table": "questions_tags",
                        "permissions": {
                            "create": ["user", "admin"],
                            "read": "all",
                            "delete": ["self", "admin"]
                        }
                    },
                    "answers": {
                        "model": "answer",
                        "type": "belongs_to_and_has_many",
                        "via_table": "questions_answers",
                        "permissions": {
                            "create": ["user", "admin"],
                            "read": "all",
                            "delete": ["self", "admin"]
                        }
                    }
                }
            },
            "action": {
                "name_plural": "answers",
                "permissions": {
                    "create": ["user", "admin"],
                    "read": ["user", "admin"],
                    "update": ["user", "admin"],
                    "delete": ["self", "admin"]
                },
                "properties": {
                    "permissions": {
                        "read": "all",
                        "update": ["user", "admin"]
                    },
                    "list": {
                        "text": {
                            "type": "string"
                        },
                        "created": {
                            "type": "datetime",
                            "default": "now",
                            "permissions": {
                                "update": "none"
                            }
                        },
                        "edited": {
                            "type": "datetime",
                            "null_allowed": true
                        },
                        "accepted": {
                            "type": "bool",
                            "default": false
                        },
                        "upvotes": {
                            "type": "int"
                        },
                        "downvotes": {
                            "type": "int"
                        },
                        "dummy": {
                            "type": "float"
                        }
                    },
                },
                "relations": {
                    "user": {
                        "model": "user",
                        "type": "belongs_to",
                        "permissions": {
                            "create": ["user", "admin"],
                            "read": "all",
                            "delete": ["self", "admin"]
                        }
                    },
                    "questions": {
                        "model": "question",
                        "type": "belongs_to_and_has_many",
                        "via_table": "questions_answers",
                        "permissions": {
                            "create": ["user", "admin"],
                            "read": "all",
                            "delete": ["self", "admin"]
                        }
                    }
                }
            },
            "project": {}

        }        
    }
}
